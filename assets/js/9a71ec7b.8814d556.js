"use strict";(self.webpackChunkfeature_probe_docs=self.webpackChunkfeature_probe_docs||[]).push([[4778],{3905:(e,t,o)=>{o.d(t,{Zo:()=>s,kt:()=>m});var r=o(7294);function n(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function i(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function a(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?i(Object(o),!0).forEach((function(t){n(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function l(e,t){if(null==e)return{};var o,r,n=function(e,t){if(null==e)return{};var o,r,n={},i=Object.keys(e);for(r=0;r<i.length;r++)o=i[r],t.indexOf(o)>=0||(n[o]=e[o]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)o=i[r],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}var p=r.createContext({}),c=function(e){var t=r.useContext(p),o=t;return e&&(o="function"==typeof e?e(t):a(a({},t),e)),o},s=function(e){var t=c(e.components);return r.createElement(p.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},u=r.forwardRef((function(e,t){var o=e.components,n=e.mdxType,i=e.originalType,p=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),u=c(o),m=n,f=u["".concat(p,".").concat(m)]||u[m]||d[m]||i;return o?r.createElement(f,a(a({ref:t},s),{},{components:o})):r.createElement(f,a({ref:t},s))}));function m(e,t){var o=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=o.length,a=new Array(i);a[0]=u;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l.mdxType="string"==typeof e?e:n,a[1]=l;for(var c=2;c<i;c++)a[c]=o[c];return r.createElement.apply(null,a)}return r.createElement.apply(null,o)}u.displayName="MDXCreateElement"},6818:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>p,contentTitle:()=>a,default:()=>d,frontMatter:()=>i,metadata:()=>l,toc:()=>c});var r=o(7462),n=(o(7294),o(3905));const i={sidebar_position:2},a="API",l={unversionedId:"how-to/develop/api-local-develop",id:"how-to/develop/api-local-develop",title:"API",description:"Requirements",source:"@site/docs/how-to/develop/api-local-develop.md",sourceDirName:"how-to/develop",slug:"/how-to/develop/api-local-develop",permalink:"/FeatureProbe/how-to/develop/api-local-develop",draft:!1,editUrl:"https://github.com/FeatureProbe/FeatureProbe/blob/main/docs/docs/how-to/develop/api-local-develop.md",tags:[],version:"current",lastUpdatedAt:1673256672,formattedLastUpdatedAt:"Jan 9, 2023",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"defaultSidebar",previous:{title:"UI",permalink:"/FeatureProbe/how-to/develop/ui-local-develop"},next:{title:"Reference Document",permalink:"/FeatureProbe/category/reference-document"}},p={},c=[{value:"Requirements",id:"requirements",level:2},{value:"Get the source code",id:"get-the-source-code",level:2},{value:"Modify configuration",id:"modify-configuration",level:2},{value:"Compile",id:"compile",level:2},{value:"Local development",id:"local-development",level:2}],s={toc:c};function d(e){let{components:t,...i}=e;return(0,n.kt)("wrapper",(0,r.Z)({},s,i,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"api"},"API"),(0,n.kt)("h2",{id:"requirements"},"Requirements"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"JDK 1.8 and above"),(0,n.kt)("li",{parentName:"ul"},"Maven can choose the latest version")),(0,n.kt)("h2",{id:"get-the-source-code"},"Get the source code"),(0,n.kt)("admonition",{type:"tip"},(0,n.kt)("p",{parentName:"admonition"},"From version v1.11.1, we have merged the Api service and UI service repository, and the API service package will include UI services,\nLocal development can directly access the FeatureProbe UI page through the API service root path.")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"git clone https://github.com/FeatureProbe/FeatureProbe.git\ncd FeatureProbe/api/\n")),(0,n.kt)("h2",{id:"modify-configuration"},"Modify configuration"),(0,n.kt)("p",null,"At present, the API service only needs to rely on the external database. Before starting the API service, you need to prepare a Mysql service with version 5.6 and above, and create a library named feature_probe."),(0,n.kt)("p",null,"Then modify the database configuration in the admin module resources/config/application-online.yml configuration file."),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"api_db_config",src:o(479).Z,width:"2653",height:"1248"})),(0,n.kt)("h2",{id:"compile"},"Compile"),(0,n.kt)("p",null,"The api service adopts modular development, and the admin module is responsible for providing web services to the outside. To start the API service, you need to compile the admin module first."),(0,n.kt)("p",null,"The compilation process will first compile the UI project. If it is the first compilation, it will first install the environment required for the UI compilation in the FeatureProbe/api/node directory. This step mainly install node and yarn. To configure the domestic agent, you can release the comments in the FeatureProbe/api/admin/pom.xml file in the figure below."),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"api_maven_mirror",src:o(7003).Z,width:"1990",height:"1416"})),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"cd /admin\nmvn clean compile\n")),(0,n.kt)("p",null,"After the compilation is complete, the static files of the UI project will be in the admin module target/classes/static directory"),(0,n.kt)("admonition",{type:"note"},(0,n.kt)("p",{parentName:"admonition"},"If you want to turn off the UI compilation option, please set FeatureProbe/api/admin/pom.xml as true .\n",(0,n.kt)("img",{alt:"skip_compile_ui",src:o(4352).Z,width:"1782",height:"749"}))),(0,n.kt)("h2",{id:"local-development"},"Local development"),(0,n.kt)("p",null,"After the compilation is complete, run the admin module through your familiar IDE, and visit ",(0,n.kt)("inlineCode",{parentName:"p"},"http://localhost:8080")," to view the UI page."),(0,n.kt)("admonition",{type:"info"},(0,n.kt)("p",{parentName:"admonition"},"If the UI project code changes, the compilation step needs to be re-executed.")))}d.isMDXComponent=!0},479:(e,t,o)=>{o.d(t,{Z:()=>r});const r=o.p+"assets/images/api_db_config-04ea3400d60218294f8232a8eb1a72f5.png"},7003:(e,t,o)=>{o.d(t,{Z:()=>r});const r=o.p+"assets/images/api_maven_mirror-f999385af7e47dd6c2db088e22f19242.png"},4352:(e,t,o)=>{o.d(t,{Z:()=>r});const r=o.p+"assets/images/skip_compile_ui-7f678adb98167b9146d099dfc4c608f3.png"}}]);