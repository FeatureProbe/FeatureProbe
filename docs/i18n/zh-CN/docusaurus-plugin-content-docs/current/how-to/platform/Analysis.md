---
sidebar_position: 9
---

# 如何使用指标分析

该模块支持在开关中定义指标，并查看开关中所有分组对应的指标分析数据。

![metric analysis screenshot](/metric_analysis.png)

## 定义指标

“指标”支持4种事件类型：自定义转化率事件、自定义数值事件、页面事件、点击事件

1. 填写指标名称
2. 填写指标描述
3. 选择事件类型（自定义事件、页面事件、点击事件）

  - 自定义事件
 
    + 自定义事件需要选择是“转化率”还是“数值”类型。
    + 填写事件名称
    + 填写"计量单位"和"胜出标准"（只有"数值"类型的，才需填写）
  
  - 页面事件
 
    + 填写目标页面URL（目前提供了4中匹配类型：简单匹配、精确匹配、子串匹配、正则表达式匹配）
   
  - 点击事件
 
    + 填写目标页面URL（目前提供了4中匹配类型：简单匹配、精确匹配、子串匹配、正则表达式匹配）
    + 填写点击元素（输入CSS选择器）   
   
4. 点击保存指标信息

## “收集数据”并查看指标分析情况

“指标”保存后，就可以开始收集指标分析数据了。

1. 点击“收集数据”后，即可开启指标分析数据的收集（此时可以看到“分析数据收集中”的标志）
2. 点击“停止收集”后，即停止对指标数据的收集，指标分析数据的收集将截止到“停止收集”的时刻，停止后，可以再点击“收集数据”进行分析数据的收集。
3. 指标分析数据的图形展示

  - 表格展示：展示所有「分组」的指标分析信息，“胜出概率”最大的分组，则为最佳方案。
  - 概率分布展示：默认展示所有「分组」的概率分布情况，可通过底部的反选操作进行过滤

## 支持开关发布的同时开始收集数据

为保证指标分析数据的完整性，当“指标信息已保存”且“未在指标数据收集中”时，在开关发布的时，提供「开始收集数据」的功能。

![publish metric screenshot](/publish_metric.png)

注：指标分析数据分析中时，修改开关配置中“除名称、描述等信息”外的内容，有可能会影响指标分析结果的准确性。
